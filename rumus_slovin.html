<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Kalkulator Rumus Slovin untuk Menentukan Ukuran Sampel Penelitian">
    <title>Kalkulator Rumus Slovin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            font-family: 'Inter', sans-serif;
        }
        
        @keyframes slideInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        @keyframes scaleIn {
            from {
                opacity: 0;
                transform: scale(0.95);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }
        
        @keyframes pulse {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.5;
            }
        }
        
        .animate-slide-up {
            animation: slideInUp 0.4s ease-out;
        }
        
        .animate-fade-in {
            animation: fadeIn 0.3s ease-out;
        }
        
        .animate-scale-in {
            animation: scaleIn 0.3s ease-out;
        }
        
        .animate-pulse {
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        
        .glass-effect {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
        
        .card-shadow {
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 
                        0 2px 4px -1px rgba(0, 0, 0, 0.03);
        }
        
        .card-shadow-lg {
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.08), 
                        0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        input:focus {
            outline: none;
        }
        
        .btn-primary {
            @apply bg-gradient-to-r from-violet-600 to-indigo-600 hover:from-violet-700 hover:to-indigo-700 
                   text-white font-medium px-8 py-3.5 rounded-xl transition-all duration-200 
                   shadow-md hover:shadow-lg transform hover:-translate-y-0.5;
        }
        
        .btn-secondary {
            @apply bg-white hover:bg-gray-50 text-gray-700 font-medium px-6 py-2.5 rounded-xl 
                   transition-all duration-200 border border-gray-200 shadow-sm hover:shadow-md 
                   transform hover:-translate-y-0.5;
        }
        
        .input-modern {
            @apply w-full px-4 py-3 border border-gray-200 rounded-xl text-center 
                   focus:ring-2 focus:ring-violet-500/20 focus:border-violet-500 
                   transition-all duration-200 bg-white font-semibold text-lg;
        }
        
        .toast-container {
            position: fixed;
            top: 1.5rem;
            right: 1.5rem;
            z-index: 9999;
            max-width: 400px;
        }

        .formula-display {
            font-family: 'Courier New', monospace;
            font-size: 1.5rem;
        }

        .result-number {
            font-size: 4rem;
            font-weight: 800;
            line-height: 1;
        }
    </style>
</head>
<body class="bg-gradient-to-br from-slate-50 via-purple-50 to-indigo-50 min-h-screen py-8 px-4">

    <!-- Toast Notification -->
    <div id="toast" class="toast-container hidden">
        <div class="glass-effect rounded-2xl shadow-2xl p-4 flex items-center gap-3 border border-white/20 animate-scale-in">
            <div id="toastIcon" class="flex-shrink-0"></div>
            <div class="flex-1">
                <p id="toastMessage" class="text-sm font-medium text-gray-800"></p>
            </div>
            <button onclick="hideToast()" class="flex-shrink-0 text-gray-400 hover:text-gray-600 transition-colors">
                <i data-lucide="x" class="w-5 h-5"></i>
            </button>
        </div>
    </div>

    <div class="max-w-5xl mx-auto">
        
        <!-- Header -->
        <div class="text-center mb-8 animate-slide-up">
            <div class="inline-flex items-center justify-center gap-3 mb-3">
                <div class="p-3 bg-gradient-to-br from-violet-600 to-indigo-600 rounded-2xl shadow-lg">
                    <i data-lucide="users" class="w-8 h-8 text-white"></i>
                </div>
            </div>
            <h1 class="text-4xl font-bold text-gray-800 mb-2">Kalkulator Rumus Slovin</h1>
            <p class="text-gray-600 max-w-2xl mx-auto">
                Hitung ukuran sampel penelitian yang representatif dari populasi dengan margin of error tertentu
            </p>
        </div>

        <div class="grid lg:grid-cols-3 gap-6">
            
            <!-- Left Column: Calculator -->
            <div class="lg:col-span-2 space-y-6">
                
                <!-- Formula Card -->
                <div class="glass-effect rounded-2xl p-6 card-shadow-lg animate-slide-up" style="animation-delay: 0.1s">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="p-2 bg-pink-100 rounded-xl">
                            <i data-lucide="function-square" class="w-5 h-5 text-pink-600"></i>
                        </div>
                        <h2 class="text-xl font-semibold text-gray-800">Rumus Slovin</h2>
                    </div>
                    
                    <div class="bg-gradient-to-br from-pink-500 to-rose-500 rounded-xl p-8 text-white text-center">
                        <p class="text-sm opacity-90 mb-4">Rumus Penentuan Ukuran Sampel</p>
                        <div class="formula-display mb-6">
                            <div class="text-3xl mb-2">n = N</div>
                            <div class="border-t-2 border-white/40 w-32 mx-auto mb-2"></div>
                            <div class="text-2xl">1 + N(e²)</div>
                        </div>
                        <div class="text-xs opacity-80 space-y-1 text-left max-w-md mx-auto border-t border-white/20 pt-4">
                            <p><strong>n</strong> = Ukuran Sampel</p>
                            <p><strong>N</strong> = Ukuran Populasi</p>
                            <p><strong>e</strong> = Margin of Error (tingkat kesalahan)</p>
                        </div>
                    </div>
                </div>

                <!-- Input Card -->
                <div class="glass-effect rounded-2xl p-6 card-shadow-lg animate-slide-up" style="animation-delay: 0.2s">
                    <div class="flex items-center gap-3 mb-6">
                        <div class="p-2 bg-violet-100 rounded-xl">
                            <i data-lucide="calculator" class="w-5 h-5 text-violet-600"></i>
                        </div>
                        <h2 class="text-xl font-semibold text-gray-800">Input Parameter</h2>
                    </div>
                    
                    <div class="space-y-6">
                        <!-- Population Input -->
                        <div>
                            <label for="population" class="block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2">
                                <i data-lucide="users-2" class="w-4 h-4 text-violet-600"></i>
                                Ukuran Populasi (N)
                            </label>
                            <input 
                                type="number" 
                                id="population" 
                                class="input-modern"
                                placeholder="Contoh: 1000"
                                min="1"
                                step="1"
                            >
                            <p class="text-xs text-gray-500 mt-2">Total jumlah individu dalam populasi penelitian</p>
                        </div>

                        <!-- Margin of Error Input -->
                        <div>
                            <label for="marginError" class="block text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2">
                                <i data-lucide="percent" class="w-4 h-4 text-violet-600"></i>
                                Margin of Error (e) - dalam %
                            </label>
                            <input 
                                type="number" 
                                id="marginError" 
                                class="input-modern"
                                value="5"
                                min="0.1"
                                max="50"
                                step="0.1"
                            >
                            <p class="text-xs text-gray-500 mt-2">Tingkat kesalahan yang dapat ditoleransi (biasanya 1%, 5%, atau 10%)</p>
                        </div>

                        <!-- Quick Presets -->
                        <div>
                            <p class="block text-sm font-semibold text-gray-700 mb-3">Preset Margin of Error:</p>
                            <div class="flex gap-2">
                                <button onclick="setMarginError(1)" class="flex-1 btn-secondary text-sm py-2">
                                    1%
                                </button>
                                <button onclick="setMarginError(5)" class="flex-1 btn-secondary text-sm py-2">
                                    5%
                                </button>
                                <button onclick="setMarginError(10)" class="flex-1 btn-secondary text-sm py-2">
                                    10%
                                </button>
                            </div>
                        </div>

                        <!-- Calculate Button -->
                        <button onclick="calculate()" class="w-full btn-primary inline-flex items-center justify-center gap-2">
                            <i data-lucide="calculator" class="w-5 h-5"></i>
                            <span>Hitung Ukuran Sampel</span>
                        </button>
                    </div>
                </div>

                <!-- Result Card -->
                <div id="resultCard" class="glass-effect rounded-2xl p-8 card-shadow-lg hidden animate-scale-in">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center gap-2 bg-green-100 px-4 py-2 rounded-full mb-4">
                            <i data-lucide="check-circle-2" class="w-4 h-4 text-green-600"></i>
                            <span class="text-sm font-semibold text-green-700">Perhitungan Selesai</span>
                        </div>
                        <h3 class="text-2xl font-bold text-gray-800 mb-2">Ukuran Sampel yang Dibutuhkan</h3>
                    </div>

                    <div class="bg-gradient-to-br from-green-50 to-emerald-50 rounded-2xl p-8 border-2 border-green-200 mb-6">
                        <div class="text-center">
                            <div id="sampleSize" class="result-number bg-gradient-to-r from-green-600 to-emerald-600 bg-clip-text text-transparent mb-2"></div>
                            <p class="text-gray-600 font-medium">Responden/Sampel</p>
                        </div>
                    </div>

                    <!-- Calculation Details -->
                    <div class="space-y-4">
                        <div class="bg-white rounded-xl p-4 border border-gray-100">
                            <h4 class="font-semibold text-gray-800 mb-3 flex items-center gap-2">
                                <i data-lucide="info" class="w-4 h-4 text-blue-600"></i>
                                Detail Perhitungan
                            </h4>
                            <div id="calculationDetails" class="space-y-2 text-sm text-gray-700"></div>
                        </div>

                        <div class="bg-blue-50 rounded-xl p-4 border border-blue-200">
                            <h4 class="font-semibold text-blue-800 mb-2 flex items-center gap-2">
                                <i data-lucide="lightbulb" class="w-4 h-4"></i>
                                Interpretasi
                            </h4>
                            <p id="interpretation" class="text-sm text-blue-900 leading-relaxed"></p>
                        </div>
                    </div>
                </div>

            </div>

            <!-- Right Column: Info & Examples -->
            <div class="space-y-6">
                
                <!-- Quick Actions -->
                <div class="glass-effect rounded-2xl p-6 card-shadow-lg animate-slide-up" style="animation-delay: 0.3s">
                    <h3 class="text-sm font-semibold text-gray-700 mb-4 flex items-center gap-2">
                        <i data-lucide="zap" class="w-4 h-4"></i>
                        Quick Actions
                    </h3>
                    <div class="space-y-2">
                        <button onclick="exportResult()" class="w-full btn-secondary text-sm justify-center">
                            <i data-lucide="download" class="w-4 h-4"></i>
                            <span>Export Hasil</span>
                        </button>
                        <button onclick="resetCalculator()" class="w-full btn-secondary text-sm justify-center">
                            <i data-lucide="refresh-cw" class="w-4 h-4"></i>
                            <span>Reset</span>
                        </button>
                    </div>
                </div>

                <!-- Example Cases -->
                <div class="glass-effect rounded-2xl p-6 card-shadow-lg animate-slide-up" style="animation-delay: 0.4s">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-2 bg-amber-100 rounded-xl">
                            <i data-lucide="book-open" class="w-5 h-5 text-amber-600"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">Contoh Kasus</h3>
                    </div>
                    
                    <div class="space-y-3">
                        <button onclick="loadExample(1000, 5)" class="w-full text-left p-4 bg-white hover:bg-violet-50 rounded-xl border border-gray-200 transition-colors group">
                            <div class="flex items-start gap-3">
                                <div class="p-2 bg-violet-100 rounded-lg group-hover:bg-violet-200 transition-colors">
                                    <i data-lucide="school" class="w-4 h-4 text-violet-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-semibold text-gray-800 mb-1">Penelitian Mahasiswa</p>
                                    <p class="text-xs text-gray-600">N: 1000, e: 5%</p>
                                </div>
                            </div>
                        </button>

                        <button onclick="loadExample(5000, 5)" class="w-full text-left p-4 bg-white hover:bg-violet-50 rounded-xl border border-gray-200 transition-colors group">
                            <div class="flex items-start gap-3">
                                <div class="p-2 bg-blue-100 rounded-lg group-hover:bg-blue-200 transition-colors">
                                    <i data-lucide="building-2" class="w-4 h-4 text-blue-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-semibold text-gray-800 mb-1">Survey Karyawan</p>
                                    <p class="text-xs text-gray-600">N: 5000, e: 5%</p>
                                </div>
                            </div>
                        </button>

                        <button onclick="loadExample(10000, 1)" class="w-full text-left p-4 bg-white hover:bg-violet-50 rounded-xl border border-gray-200 transition-colors group">
                            <div class="flex items-start gap-3">
                                <div class="p-2 bg-green-100 rounded-lg group-hover:bg-green-200 transition-colors">
                                    <i data-lucide="bar-chart" class="w-4 h-4 text-green-600"></i>
                                </div>
                                <div class="flex-1">
                                    <p class="font-semibold text-gray-800 mb-1">Riset Pasar Besar</p>
                                    <p class="text-xs text-gray-600">N: 10000, e: 1%</p>
                                </div>
                            </div>
                        </button>
                    </div>
                </div>

                <!-- Info Card -->
                <div class="glass-effect rounded-2xl p-6 card-shadow-lg animate-slide-up" style="animation-delay: 0.5s">
                    <div class="flex items-center gap-3 mb-4">
                        <div class="p-2 bg-indigo-100 rounded-xl">
                            <i data-lucide="info" class="w-5 h-5 text-indigo-600"></i>
                        </div>
                        <h3 class="text-lg font-semibold text-gray-800">Panduan</h3>
                    </div>
                    
                    <div class="space-y-4 text-sm text-gray-700">
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2">Kapan Menggunakan?</h4>
                            <p class="text-xs leading-relaxed">Rumus Slovin digunakan untuk menentukan ukuran sampel minimum dari populasi yang diketahui, dengan margin of error tertentu.</p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-gray-800 mb-2">Margin of Error:</h4>
                            <ul class="text-xs space-y-1 list-disc list-inside">
                                <li><strong>1%</strong> - Presisi sangat tinggi</li>
                                <li><strong>5%</strong> - Standar penelitian sosial</li>
                                <li><strong>10%</strong> - Presisi rendah, lebih cepat</li>
                            </ul>
                        </div>

                        <div class="bg-amber-50 rounded-lg p-3 border border-amber-200">
                            <p class="text-xs text-amber-900">
                                <strong>⚠️ Catatan:</strong> Semakin kecil margin of error, semakin besar sampel yang dibutuhkan.
                            </p>
                        </div>
                    </div>
                </div>

            </div>

        </div>

        <!-- Footer -->
        <div class="text-center mt-8 text-sm text-gray-500">
            <p>Kalkulator Rumus Slovin • Research Sampling Tool</p>
        </div>

    </div>

    <script>
        // Global variables
        let currentResult = null;

        // Initialize Lucide Icons
        function initIcons() {
            lucide.createIcons();
        }

        // Toast Notification System
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            const toastIcon = document.getElementById('toastIcon');
            
            const icons = {
                success: '<i data-lucide="check-circle-2" class="w-5 h-5 text-emerald-500"></i>',
                error: '<i data-lucide="alert-circle" class="w-5 h-5 text-red-500"></i>',
                warning: '<i data-lucide="alert-triangle" class="w-5 h-5 text-amber-500"></i>',
                info: '<i data-lucide="info" class="w-5 h-5 text-blue-500"></i>'
            };
            
            toastMessage.textContent = message;
            toastIcon.innerHTML = icons[type] || icons.info;
            toast.classList.remove('hidden');
            initIcons();
            
            setTimeout(() => {
                hideToast();
            }, 4000);
        }

        function hideToast() {
            document.getElementById('toast').classList.add('hidden');
        }

        // Set Margin of Error Preset
        function setMarginError(value) {
            document.getElementById('marginError').value = value;
            showToast(`Margin of error diatur ke ${value}%`, 'success');
        }

        // Load Example
        function loadExample(population, marginError) {
            document.getElementById('population').value = population;
            document.getElementById('marginError').value = marginError;
            showToast('Contoh kasus dimuat', 'success');
            
            // Auto calculate after loading example
            setTimeout(() => {
                calculate();
            }, 500);
        }

        // Validate Input
        function validateInput(N, e) {
            if (!N || N <= 0) {
                showToast('Masukkan ukuran populasi yang valid (harus lebih dari 0)', 'error');
                return false;
            }

            if (!e || e <= 0 || e > 50) {
                showToast('Margin of error harus antara 0.1% - 50%', 'error');
                return false;
            }

            if (N < 10) {
                showToast('Ukuran populasi terlalu kecil. Minimal 10 untuk hasil yang bermakna.', 'warning');
            }

            return true;
        }

        // Calculate Sample Size using Slovin's Formula
        function calculate() {
            // Get input values
            const N = parseFloat(document.getElementById('population').value);
            const ePercent = parseFloat(document.getElementById('marginError').value);

            // Validate input
            if (!validateInput(N, ePercent)) {
                return;
            }

            // Convert percentage to decimal
            const e = ePercent / 100;

            // Slovin's Formula: n = N / (1 + N(e^2))
            const denominator = 1 + (N * Math.pow(e, 2));
            const n = N / denominator;
            
            // Round up to get whole number
            const sampleSize = Math.ceil(n);

            // Calculate percentage of population
            const percentage = (sampleSize / N * 100).toFixed(2);

            // Store result
            currentResult = {
                population: N,
                marginError: ePercent,
                sampleSize: sampleSize,
                percentage: percentage,
                eDecimal: e,
                denominator: denominator,
                exactValue: n
            };

            // Display result
            displayResult();
        }

        // Display Result
        function displayResult() {
            const resultCard = document.getElementById('resultCard');
            resultCard.classList.remove('hidden');

            // Sample Size
            document.getElementById('sampleSize').textContent = currentResult.sampleSize.toLocaleString('id-ID');

            // Calculation Details
            const details = `
                <div class="flex justify-between py-2 border-b border-gray-100">
                    <span class="text-gray-600">Populasi (N):</span>
                    <span class="font-semibold">${currentResult.population.toLocaleString('id-ID')}</span>
                </div>
                <div class="flex justify-between py-2 border-b border-gray-100">
                    <span class="text-gray-600">Margin of Error (e):</span>
                    <span class="font-semibold">${currentResult.marginError}%</span>
                </div>
                <div class="flex justify-between py-2 border-b border-gray-100">
                    <span class="text-gray-600">e (desimal):</span>
                    <span class="font-semibold">${currentResult.eDecimal.toFixed(4)}</span>
                </div>
                <div class="flex justify-between py-2 border-b border-gray-100">
                    <span class="text-gray-600">1 + N(e²):</span>
                    <span class="font-semibold">${currentResult.denominator.toFixed(4)}</span>
                </div>
                <div class="flex justify-between py-2 border-b border-gray-100">
                    <span class="text-gray-600">n (exact):</span>
                    <span class="font-semibold">${currentResult.exactValue.toFixed(2)}</span>
                </div>
                <div class="flex justify-between py-2">
                    <span class="text-gray-600">Persentase Sampel:</span>
                    <span class="font-semibold text-violet-600">${currentResult.percentage}%</span>
                </div>
            `;
            document.getElementById('calculationDetails').innerHTML = details;

            // Interpretation
            let interpretation = `Dari populasi sebesar <strong>${currentResult.population.toLocaleString('id-ID')}</strong> individu, 
                Anda memerlukan minimal <strong>${currentResult.sampleSize.toLocaleString('id-ID')}</strong> sampel 
                (${currentResult.percentage}% dari populasi) untuk mencapai tingkat kepercayaan dengan margin of error <strong>${currentResult.marginError}%</strong>.`;

            if (currentResult.percentage < 10) {
                interpretation += ` <br><br>Sampel yang dibutuhkan relatif kecil (< 10% populasi), 
                    yang memudahkan pengumpulan data namun tetap representatif.`;
            } else if (currentResult.percentage > 30) {
                interpretation += ` <br><br>Sampel yang dibutuhkan cukup besar (> 30% populasi). 
                    Pertimbangkan untuk meningkatkan margin of error jika pengumpulan data terlalu menantang.`;
            }

            if (currentResult.marginError <= 1) {
                interpretation += ` <br><br><strong>Presisi Tinggi:</strong> Margin of error 1% memberikan hasil yang sangat akurat 
                    namun memerlukan sampel yang lebih besar.`;
            } else if (currentResult.marginError >= 10) {
                interpretation += ` <br><br><strong>Presisi Rendah:</strong> Margin of error 10% memerlukan sampel lebih kecil 
                    namun dengan akurasi yang lebih rendah.`;
            }

            document.getElementById('interpretation').innerHTML = interpretation;

            // Smooth scroll to result
            setTimeout(() => {
                resultCard.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
            }, 100);

            showToast('Perhitungan selesai!', 'success');
        }

        // Export Result
        function exportResult() {
            if (!currentResult) {
                showToast('Tidak ada hasil untuk diekspor. Silakan hitung terlebih dahulu.', 'warning');
                return;
            }

            const text = `
HASIL PERHITUNGAN RUMUS SLOVIN
==============================

Input Parameter:
- Ukuran Populasi (N): ${currentResult.population.toLocaleString('id-ID')}
- Margin of Error (e): ${currentResult.marginError}%

Rumus Slovin:
n = N / (1 + N(e²))

Detail Perhitungan:
- e (desimal): ${currentResult.eDecimal.toFixed(4)}
- 1 + N(e²): ${currentResult.denominator.toFixed(4)}
- n (exact): ${currentResult.exactValue.toFixed(2)}

HASIL:
======
Ukuran Sampel yang Dibutuhkan: ${currentResult.sampleSize.toLocaleString('id-ID')} responden
Persentase dari Populasi: ${currentResult.percentage}%

Interpretasi:
Dari populasi sebesar ${currentResult.population.toLocaleString('id-ID')} individu, 
Anda memerlukan minimal ${currentResult.sampleSize.toLocaleString('id-ID')} sampel 
untuk mencapai tingkat kepercayaan dengan margin of error ${currentResult.marginError}%.

Generated: ${new Date().toLocaleString('id-ID')}
            `.trim();

            const blob = new Blob([text], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `slovin-calculation-${Date.now()}.txt`;
            a.click();
            URL.revokeObjectURL(url);
            
            showToast('Hasil berhasil diekspor', 'success');
        }

        // Reset Calculator
        function resetCalculator() {
            if (currentResult && !confirm('Apakah Anda yakin ingin mereset kalkulator?')) {
                return;
            }

            document.getElementById('population').value = '';
            document.getElementById('marginError').value = '5';
            document.getElementById('resultCard').classList.add('hidden');
            currentResult = null;
            
            showToast('Kalkulator direset', 'info');
        }

        // Keyboard Shortcuts
        document.addEventListener('keydown', function(e) {
            if (e.ctrlKey || e.metaKey) {
                if (e.key === 'Enter') {
                    e.preventDefault();
                    calculate();
                } else if (e.key === 's') {
                    e.preventDefault();
                    if (currentResult) {
                        exportResult();
                    }
                }
            }
        });

        // Initialize on page load
        document.addEventListener('DOMContentLoaded', function() {
            initIcons();
            
            // Focus on population input
            document.getElementById('population').focus();

            // Add enter key support for inputs
            document.getElementById('population').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    document.getElementById('marginError').focus();
                }
            });

            document.getElementById('marginError').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    calculate();
                }
            });
        });
    </script>
</body>
</html>